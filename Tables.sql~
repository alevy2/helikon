--Ashley Thomas and Sasha Levy
-- Tables.sql
-- Helikon

use athomas2_db;
-- first, drop any existing tables

drop table if exists `user`;
drop table if exists person;
drop table if exists 
drop table if exists 
drop table if exists 
drop table if exists 
drop table if exists 
drop table if exists 
drop table if exists 

create table `user` (
       uid int not null primary key auto_increment,
       name varchar(50),
       username varchar(50),
       password varchar(50),
       friends varchar(10000)
)
	ENGINE = InnoDB;

create table person (
       pid int not null primary key auto_increment,
       name varchar(50),
       picture varchar(50) -- picture will be a string that is a link to this person's picture
)
	ENGINE = InnoDB;

create table media (
       mid int not null primary key auto_increment,
       rating tinyint(1),
       title varchar(50),
       dateadded datetime,
       characteristics varchar(200),
       preview varchar(200), -- will have a link to a video or stream of the media
       `type` enum('tv','movie','song','album'),
       picture varchar(200) -- will have link to picture
)
	ENGINE = InnoDB;

create table tv (
       mid int not null,
       genre enum('action','comedy','adventure','documentary','drama','mystery','reality','sitcom','anime','children','classic','faith','foreign','horror','independent','musical','romance','scifi','fantasy','romance','thriller')
       length tinyint(1) -- number of seasons or episodes
       INDEX (mid),
       foreign key (mid) references media(id) on delete restrict
)
	ENGINE = InnoDB;

create table movie (
       mid int not null,
       genre enum('action','comedy','adventure','documentary','drama','mystery','reality','sitcom','anime','children','classic','faith','foreign','horror','independent','musical','romance','scifi','fantasy','romance','thriller'),
       INDEX (mid),
       foreign key (mid) references media(mid) on delete restrict
)
	ENGINE = InnoDB;

create table music (
       mid int not null,
       genre enum(),
       INDEX (mid),
       foreign key (mid) references media(mid) on delete restrict
)
	ENGINE = InnoDB;

create table song (
       mid int not null,
       album int,
       INDEX (mid),
       INDEX (album),
       foreign key (mid) references media(mid) on delete restrict,
       foreign key (album) references album(mid) on delete restrict
)
	ENGINE = InnoDB;

create table album (
       mid int not null,
       INDEX (mid),
       foreign key (mid) references media(mid) on delete restrict
)
	ENGINE = InnoDB;

create table people (
       id int not null primary key auto_increment,
       name varchar(50)
)
	ENGINE = InnoDB;

create table phone (
	id int not null,
	kind enum('cell','home','other','work'),
	phnum char(15),
	INDEX (id),
	foreign key (id) references people(id) on delete restrict
	)
	-- table constraints follow
	ENGINE = InnoDB;





